!function(e,t,s,r){"use strict";function n(t,s){this.element=t,this.settings=e.extend({},o,s),this._defaults=o,this._name=i,this.init()}var i="treehouseBadges",o={username:!1,reverse:!1,sortBadgesBy:"course"};e.extend(n.prototype,{init:function(){this.displayBadges()},sortBy:function(e,t,s){var r=s?function(t){return s(t[e])}:function(t){return t[e]};return t=t?-1:1,function(e,s){return e=r(e),s=r(s),t*((e>s)-(s>e))}},getCourseTitleFromBadge:function(e){return e.courses[0].title.toLowerCase()},sortBadges:function(e,t,s){var r=e,n=this;return"course"===t?r.sort(function(e,t){return n.getCourseTitleFromBadge(e)<n.getCourseTitleFromBadge(t)?-1:n.getCourseTitleFromBadge(e)>n.getCourseTitleFromBadge(t)?1:0}):"id"===t?r.sort(this.sortBy("id",!1,parseInt)):"date"===t||console.log("Invalid sort method. Use course, date, or id"),s===!0&&r.reverse(),r},displayBadges:function(){var t,s=this,r=this.settings,n=this.element,i=[],o=e('<div class="badges"></div>'),a="http://teamtreehouse.com/"+r.username+".json",u=r.reverse,d=r.sortBadgesBy;return r.username===!1?void console.log("Treehouse Badges Error: No username set in the options."):void e.getJSON(a,function(r){var a=r.name;i=r.badges;var g,c,h;e(n).first().append(o),e(n).first().prepend('<div class="badges__header"><h1>'+a+"'s Team Treehouse Badges</h1></div>"),i=i.filter(function(e){return 0!==e.courses.length}),i=s.sortBadges(i,d,u);for(var l=0;l<i.length;l++){var f=i[l];c="<h3>"+f.courses[0].title+"</h3>",g='<h2><a href="'+f.url+'">'+f.name+"</a></h2>",h='<img src="'+f.icon_url+'" alt="" />',t=e('<div class="badges__badge"><div class="badge__inner">'+h+g+c+"</div></div>"),o.append(t)}})}}),e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new n(this,t))})}}(jQuery,window,document);